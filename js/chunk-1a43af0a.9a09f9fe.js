(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1a43af0a"],{a867:function(t,s,i){"use strict";var n=i("ed83"),e=i.n(n);e.a},ed83:function(t,s,i){},ff23:function(t,s,i){"use strict";i.r(s);var n=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"me"},[t.userId?i("div",[i("div",{staticClass:"content"},[i("div",{staticClass:"img"},[i("img",{attrs:{src:t.user.avatarUrl,alt:""}})]),i("div",{staticClass:"desc"},[i("div",{staticClass:"name"},[t._v("\n          "+t._s(t.user.nickname)+"\n        ")]),i("div",{staticClass:"type"},[t._v("\n          Lv: "+t._s(t.user.userType)+"\n        ")])]),i("div",{staticClass:"sign"},[t.isSign?i("div",{staticClass:"s-item"},[t._v("已签到")]):i("div",{staticClass:"s-item",on:{click:t.sign}},[t._v("签到")])])]),i("div",{staticClass:"container"},[i("div",{staticClass:"c-item"},[i("div",{staticClass:"num"},[t._v("\n          "+t._s(t.dynamic)+"\n        ")]),i("div",{staticClass:"title"},[t._v("\n          动态\n        ")])]),i("div",{staticClass:"c-item"},[i("div",{staticClass:"num"},[t._v("\n          "+t._s(t.follow)+"\n        ")]),i("div",{staticClass:"title"},[t._v("\n          关注\n        ")])]),i("div",{staticClass:"c-item"},[i("div",{staticClass:"num"},[t._v("\n          "+t._s(t.fans)+"\n        ")]),i("div",{staticClass:"title"},[t._v("\n          粉丝\n        ")])]),i("div",{staticClass:"c-item",on:{click:t.edit}},[i("div",{staticClass:"num"},[i("van-icon",{attrs:{name:"edit",size:"20px"}})],1),i("div",{staticClass:"title"},[t._v("\n          编辑资料\n        ")])])]),i("div",{staticClass:"btn1"},[i("van-button",{attrs:{type:"warning"},on:{click:t.logout}},[t._v("退出登录")])],1)]):i("div",{staticClass:"no-login"},[i("div",{staticClass:"n-desc"},[t._v("\n      您还没有登录喔\n    ")]),i("div",[i("van-button",{attrs:{type:"info",size:"small"},on:{click:t.goLogin}},[t._v("立即登录")])],1)])])},e=[],a={name:"Me",components:{},props:{},data:function(){return{user:{},isSign:!1,dynamic:0,follow:0,fans:0,userId:""}},methods:{goLogin:function(){this.$router.push("/login")},sign:function(){var t=this;this.$com.req("daily_signin?type=1").then((function(s){200===s.code&&(t.$toast.success("签到成功"),t.isSign=!0)}))},logout:function(){var t=this;this.$com.req("logout").then((function(s){200===s.code&&(t.$store.state.user=null,localStorage.removeItem("user"),localStorage.removeItem("userId"),t.$router.push("/"),t.$toast.success("退出成功"))}))},getDynamic:function(){var t=this;this.$com.req("user/event?uid=".concat(this.userId)).then((function(s){200===s.code&&(t.dynamic=s.events.length)}))},getFollow:function(){var t=this;this.$com.req("user/follows?uid=".concat(this.userId)).then((function(s){200===s.code&&(t.follow=s.follow.length)}))},getFans:function(){var t=this;this.$com.req("user/followeds?uid=".concat(this.userId)).then((function(s){200===s.code&&(t.fans=s.followeds.length)}))},edit:function(){this.$router.push("/edit")},getUser:function(){var t=this;this.$com.req("user/detail?uid=".concat(this.userId)).then((function(s){s&&(t.user=s.profile,console.log(t.user),t.isSign=s.pcSign,localStorage.removeItem("user"),localStorage.setItem("user",JSON.stringify(s.profile)))}))}},mounted:function(){localStorage.userId&&(this.userId=localStorage.userId,this.getDynamic(),this.getFollow(),this.getFans(),this.getUser())},created:function(){},filters:{},computed:{},watch:{},directives:{}},c=a,o=(i("a867"),i("5511")),l=Object(o["a"])(c,n,e,!1,null,"f00234dc",null);s["default"]=l.exports}}]);
//# sourceMappingURL=chunk-1a43af0a.9a09f9fe.js.map