{"version":3,"sources":["webpack:///./src/pages/me/Me.vue?15e8","webpack:///./src/pages/me/Me.vue?6e4d","webpack:///src/pages/me/Me.vue","webpack:///./src/pages/me/Me.vue?af7f","webpack:///./src/pages/me/Me.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","userId","attrs","user","avatarUrl","_v","_s","nickname","userType","isSign","on","sign","dynamic","follow","fans","edit","logout","goLogin","staticRenderFns","component"],"mappings":"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","file":"js/chunk-1a43af0a.9a09f9fe.js","sourcesContent":["import mod from \"-!../../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/_vue-loader@15.8.3@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./Me.vue?vue&type=style&index=0&id=f00234dc&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/_vue-loader@15.8.3@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./Me.vue?vue&type=style&index=0&id=f00234dc&scoped=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"me\"},[(!_vm.userId)?_c('div',{staticClass:\"no-login\"},[_c('div',{staticClass:\"n-desc\"},[_vm._v(\"\\n      您还没有登录喔\\n    \")]),_c('div',[_c('van-button',{attrs:{\"type\":\"info\",\"size\":\"small\"},on:{\"click\":_vm.goLogin}},[_vm._v(\"立即登录\")])],1)]):_c('div',[_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"img\"},[_c('img',{attrs:{\"src\":_vm.user.avatarUrl,\"alt\":\"\"}})]),_c('div',{staticClass:\"desc\"},[_c('div',{staticClass:\"name\"},[_vm._v(\"\\n          \"+_vm._s(_vm.user.nickname)+\"\\n        \")]),_c('div',{staticClass:\"type\"},[_vm._v(\"\\n          Lv: \"+_vm._s(_vm.user.userType)+\"\\n        \")])]),_c('div',{staticClass:\"sign\"},[(!_vm.isSign)?_c('div',{staticClass:\"s-item\",on:{\"click\":_vm.sign}},[_vm._v(\"签到\")]):_c('div',{staticClass:\"s-item\"},[_vm._v(\"已签到\")])])]),_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"c-item\"},[_c('div',{staticClass:\"num\"},[_vm._v(\"\\n          \"+_vm._s(_vm.dynamic)+\"\\n        \")]),_c('div',{staticClass:\"title\"},[_vm._v(\"\\n          动态\\n        \")])]),_c('div',{staticClass:\"c-item\"},[_c('div',{staticClass:\"num\"},[_vm._v(\"\\n          \"+_vm._s(_vm.follow)+\"\\n        \")]),_c('div',{staticClass:\"title\"},[_vm._v(\"\\n          关注\\n        \")])]),_c('div',{staticClass:\"c-item\"},[_c('div',{staticClass:\"num\"},[_vm._v(\"\\n          \"+_vm._s(_vm.fans)+\"\\n        \")]),_c('div',{staticClass:\"title\"},[_vm._v(\"\\n          粉丝\\n        \")])]),_c('div',{staticClass:\"c-item\",on:{\"click\":_vm.edit}},[_c('div',{staticClass:\"num\"},[_c('van-icon',{attrs:{\"name\":\"edit\",\"size\":\"20px\"}})],1),_c('div',{staticClass:\"title\"},[_vm._v(\"\\n          编辑资料\\n        \")])])]),_c('div',{staticClass:\"btn1\"},[_c('van-button',{attrs:{\"type\":\"warning\"},on:{\"click\":_vm.logout}},[_vm._v(\"退出登录\")])],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"me\">\n    <div class=\"no-login\" v-if=\"!userId\">\n      <div class=\"n-desc\">\n        您还没有登录喔\n      </div>\n      <div>\n        <van-button type=\"info\" size=\"small\" @click=\"goLogin\">立即登录</van-button>\n      </div>\n    </div>\n    <div v-else>\n      <div class=\"content\">\n        <div class=\"img\">\n          <img :src=\"user.avatarUrl\" alt=\"\">\n        </div>\n        <div class=\"desc\">\n          <div class=\"name\">\n            {{user.nickname}}\n          </div>\n          <div class=\"type\">\n            Lv: {{user.userType}}\n          </div>\n        </div>\n        <div class=\"sign\">\n          <div v-if=\"!isSign\" class=\"s-item\" @click=\"sign\">签到</div>\n          <div v-else class=\"s-item\">已签到</div>\n        </div>\n      </div>\n      <div class=\"container\">\n        <div class=\"c-item\">\n          <div class=\"num\">\n            {{dynamic}}\n          </div>\n          <div class=\"title\">\n            动态\n          </div>\n        </div>\n        <div class=\"c-item\">\n          <div class=\"num\">\n            {{follow}}\n          </div>\n          <div class=\"title\">\n            关注\n          </div>\n        </div>\n        <div class=\"c-item\">\n          <div class=\"num\">\n            {{fans}}\n          </div>\n          <div class=\"title\">\n            粉丝\n          </div>\n        </div>\n        <div class=\"c-item\" @click=\"edit\">\n          <div class=\"num\">\n            <van-icon name=\"edit\" size=\"20px\"></van-icon>\n          </div>\n          <div class=\"title\">\n            编辑资料\n          </div>\n        </div>\n      </div>\n      <div class=\"btn1\">\n        <van-button type=\"warning\" @click=\"logout\">退出登录</van-button>\n      </div>\n    </div>\n  </div>\n\n</template>\n\n<script>\n  export default {\n    name: \"Me\",\n    components: {},\n    props: {},\n    data() {\n      return {\n        user: {},\n        isSign: false, // 是否签到\n        dynamic: 0, // 动态\n        follow: 0, // 关注\n        fans: 0, // 粉丝\n        userId: ''\n      }\n    },\n    methods: {\n      goLogin() {\n        this.$router.push('/login')\n      },\n      // 签到\n      sign() {\n        this.$com.req(`daily_signin?type=1`).then(res => {\n          if (res.code === 200) {\n            this.$toast.success('签到成功')\n            this.isSign = true\n          }\n        })\n      },\n      logout() {\n        this.$com.req('logout').then(res => {\n          if (res.code === 200) {\n            this.$store.state.user = null\n            localStorage.removeItem('user')\n            localStorage.removeItem('userId')\n            this.$router.push('/')\n            this.$toast.success('退出成功')\n          }\n        })\n\n      },\n      // 获取动态\n      getDynamic() {\n        this.$com.req(`user/event?uid=${this.userId}`).then(res => {\n          if (res.code === 200) {\n            this.dynamic = res.events.length\n          }\n        })\n      },\n      // 获取关注\n      getFollow() {\n        this.$com.req(`user/follows?uid=${this.userId}`).then(res => {\n          if (res.code === 200) {\n            this.follow = res.follow.length\n          }\n        })\n      },\n      // 获取粉丝\n      getFans() {\n        this.$com.req(`user/followeds?uid=${this.userId}`).then(res => {\n          if (res.code === 200) {\n            this.fans = res.followeds.length\n          }\n        })\n      },\n      // 编辑资料\n      edit() {\n        this.$router.push('/edit')\n      },\n      getUser() {\n        this.$com.req(`user/detail?uid=${this.userId}`).then(res => {\n          if (res) {\n            this.user = res.profile\n            console.log(this.user)\n            this.isSign = res.pcSign\n            localStorage.removeItem('user')\n            localStorage.setItem('user', JSON.stringify(res.profile))\n          }\n        })\n      }\n    },\n    mounted() {\n      if (localStorage.userId){\n        this.userId = localStorage.userId\n        this.getDynamic()\n        this.getFollow()\n        this.getFans()\n        this.getUser()\n      }\n    },\n    created() {\n\n    },\n    filters: {},\n    computed: {},\n    watch: {},\n    directives: {}\n  }\n</script>\n\n<style scoped lang=\"scss\">\n  .me {\n    .no-login {\n      width: 100%;\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      margin-top: 50%;\n\n      .n-desc {\n        font-size: 28px;\n        margin: 20px 0;\n      }\n    }\n\n    .content {\n      display: flex;\n      align-items: center;\n      margin-top: 50px;\n      margin-left: 40px;\n      position: relative;\n\n      .img {\n        width: 120px;\n        height: 120px;\n\n        img {\n          width: 100%;\n          height: 100%;\n          border-radius: 50%;\n        }\n      }\n\n      .desc {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n\n        .name {\n          margin-left: 40px;\n          font-size: 32px;\n        }\n\n        .type {\n          text-align: center;\n          width: 100px;\n          background: #eee;\n          border-radius: 14px;\n          position: relative;\n          top: 12px;\n        }\n      }\n\n      .sign {\n        position: absolute;\n        right: 40px;\n\n        .s-item {\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          width: 100px;\n          border-radius: 14px;\n          background: #ccc;\n          color: #fff;\n        }\n      }\n    }\n\n    .container {\n      display: flex;\n      align-items: center;\n      justify-content: space-around;\n      margin-top: 60px;\n\n      .c-item {\n        text-align: center;\n\n        .num {\n          font-size: 30px;\n        }\n\n        .title {\n          color: #aaa;\n        }\n      }\n    }\n\n    .btn1 {\n      display: flex;\n      justify-content: center;\n      margin-top: 100px;\n    }\n  }\n</style>\n","import mod from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./Me.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./Me.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Me.vue?vue&type=template&id=f00234dc&scoped=true&\"\nimport script from \"./Me.vue?vue&type=script&lang=js&\"\nexport * from \"./Me.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Me.vue?vue&type=style&index=0&id=f00234dc&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.8.3@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f00234dc\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}